<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Ad-hoc Query</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    textarea { width: 100%; height: 120px; }
    pre { background: #f5f5f5; padding: 10px; }
  </style>
</head>
<body>
  <h1>Ad-hoc Query</h1>
  <nav>
    <a href="/">Home</a> |
    <a href="/query">Query</a> |
    <a href="/config">Config</a>
  </nav>
  <form method="post">
    <p>
      <textarea name="query" placeholder="db.stats() or any JS expression" required></textarea>
    </p>
    <button type="submit">Run</button>
  </form>
  {% if error %}
    <h2 style="color: red;">Error</h2>
    <pre>{{ error }}</pre>
  {% elif result is not none %}
    <h2>Result</h2>
    <pre>{{ result|tojson(indent=2) }}</pre>
  {% endif %}
</body>
</html>